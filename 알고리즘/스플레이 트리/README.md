# 스플레이 트리


* [개요](#개요)
* [스플레이 작업](#스플레이-작업)
    * [지그 회전](#지그-회전)
    * [지그지그 또는 재그재그 회전](#지그지그-또는-재그재그-회전)
    * [지그재그 회전](#지그재그-회전)


&nbsp;
## 개요
스플레이(Splay) 트리는 특수한 형태의 이진 검색 트리로, 스플레이라 불리는 특유의 작업을 통해 가장 최근에 방문했던 노드에 신속히 접근할 수 있는 기능을 제공한다.
* 스플레이 작업이란 마지막으로 방문했던 노드를 트리의 새로운 루트 노드로 만드는 것이다. 이렇게 하면, 최근 방문했던 노드의 높이가 최소화되고, 다음 번에 방문할 때 매우 쉽고 빠르게 접근할 수 있다.


스플레이 트리는 다음과 같은 특성을 지닌다:
* 검색과 트리 회전의 결합을 통해 스스로를 최적화해 나간다.
* 보통의 트리 높이에서 O(logn) 만큼의 시간이, 최악의 시나리오에서 O(n)의 시간이 소요된다.
* n개의 노드를 지닌 트리에서 각각의 스플레이 작업에 소요되는 분할 상환 시간은 O(logn)이다.
    * 분할 상환 시간 분석(amortized time analysis)은 특정 알고리즘에서 최악의 시나리오를 검토할 수 없을 때, 다양한 시나리오를 검토할 때 사용하는 복잡성 분석 방식이다.
* 스플레이 트리의 용도로는 캐시(cache)와 가비지 컬렉션(garbage collection)이 있다.


&nbsp;
## 스플레이 작업
특정 노드를 루트 노드의 위치로 옮기기 위해 세 개의 메서드가 사용된다. 이들 메서드는 스플레이 작업을 수행함과 동시에, 다른 모든 노드가 스플레이 노드의 경로를 따라 루트 노드와 최대한 가까이 놓일 수 있도록 균형을 잡는 작업을 수행한다.


&nbsp;
### 지그 회전
* 노드 X가 루트 노드의 자식 노드일 때 일어나며, 이때 X의 부모 노드 P는 트리의 루트가 된다.
* X에서 P 방향의 모서리를 기준으로 회전이 이뤄진다.


![지그 회전](https://github.com/0jun0815/YJStudy/blob/master/알고리즘/스플레이%20트리/images/지그%20회전.jpg)


&nbsp;
### 지그지그 또는 재그재그 회전
* P가 루트가 아니고, X와 P 모두 우측 자식 또는 좌측 자식에 속할 때 일어난다.
* 트리는 P에서 G 모서리 방향으로 회전한 뒤 X에서 P 모서리 방향으로 다시 한 번 회전한다.
* 지그지그는 두 번 연속으로 우측 방향으로 회전하는 것, 재그재그는 두 번 연속으로 좌측 방향으로 회전하는 것을 의미한다.


![지그지그 회전](https://github.com/0jun0815/YJStudy/blob/master/알고리즘/스플레이%20트리/images/지그지그%20회전.jpg)


&nbsp;
### 지그재그 회전
* P가 루트가 아니고, P가 좌측 자식이며 X가 우측 자식이거나 그 반대의 경우에 일어난다.
* 트리를 X와 P 모서리 방향으로 회전한 뒤, 그 결과로 생긴 X와 G 모서리 방향으로 다시 한 번 회전한다.


![지그재그 회전](https://github.com/0jun0815/YJStudy/blob/master/알고리즘/스플레이%20트리/images/지그재그%20회전.jpg)


&nbsp;
&nbsp;      
### [by. 0junChoi](https://github.com/0jun0815) email: <0jun0815@gmail.com>
### 출처: [스위프트 데이터 구조와 알고리즘](http://acornpub.co.kr/book/swift-structure-algorithms)
