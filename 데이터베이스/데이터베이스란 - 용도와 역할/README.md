# 데이터베이스란 - 용도와 역할 


* [데이터베이스의 기본 기능](#데이터베이스의-기본-기능)
    * [데이터베이스의 기본 기능 1. 데이터의 검색과 갱신](#데이터베이스의-기본-기능-1-데이터의-검색과-갱신)
    * [데이터베이스의 기본 기능 2. 동시성 제어](#데이터베이스의-기본-기능-2-동시성-제어)
    * [데이터베이스의 기본 기능 3. 장애 대응](#데이터베이스의-기본-기능-3-장애-대응)
    * [데이터베이스의 기본 기능 4. 보안](#데이터베이스의-기본-기능-4-보안)
* [데이터베이스의 종류](#데이터베이스의-종류)
    * [계층형 데이터베이스](#계층형-데이터베이스)
    * [관계형 데이터베이스](#관계형-데이터베이스)
    * [객체지향 데이터베이스와 XML 데이터베이스](#객체지향-데이터베이스와-xml-데이터베이스)
    * [NoSQL 데이터베이스](#nosql-데이터베이스)


&nbsp;      
## 데이터베이스의 기본 기능
### 데이터베이스의 기본 기능 1. 데이터의 검색과 갱신
데이터베이스의 용도로써 가장 중요한 기능은 '검색'이다. 다시 말해 '원하는 데이터를 찾는다'는 것이다.


예를 들어, 아래 주소록에서 주소에 '서울'이란 단어가 포함된 인물을 찾으면 '김xx'와 '박xx' 2명이 검색된다. 백화점과 호텔에서 특정 지역에 거주하는 사람들에게 캠페인을 위한 DM을 보낼 수 있는 것도 '주소'를 검색 키워드로 지정하고 검색해서 해당 지역에 거주하는 고객명단을 정확히 추출할 수 있기 때문이다.


이름 | 전화번호 | 이메일 | 주소
------ | ------ | ------ | ------ | 
김xx | 02-874-99xx | hogehoge@test.com | 서울시 관악구 xxx
박xx | 042 - x9xx - 87xx | hagehage@temp.co.kr | 서울시 마포구 xxx
정xx | 051 - x8x - 90xx | hugahuga@wahaha.or.kr | 부산시 서면 xxx
... | ... | ... | ...


이처럼 검색을 수행할 수단이 있다는 점이 데이터베이스에 요구되는 가장 중요한 기능이다.


#### 넓은 의미에서 갱신은 동록, 수정, 제거
데이터베이스는 새로운 데이터를 등록하고 기존 데이터를 수정하며 불필요해진 데이터를 제거하는 것도 가능해야 한다.


'등록, 수정, 제거' 3가지 기능을 통틀어 '갱신'이라고 한다. '갱신'이란 말에는 이런 넓은 의미의 사용법과 단순히 '기존 데이터의 수정'을 가리키는 좁은 의미의 사용법 2가지가 있으니 주의한다.


![데이터베이스에서 사용자가 수행하는 조작]()


#### 데이터 포맷에 유의한다
데이터베이스를 조작할 때 중요한 것은 데이터를 어떤 포맷(형식)으로 관리하는가, 검색이나 갱신에서 효율적인가 등의 문제이다.


예를 들어, 동성동명의 '박xx' 씨가 2명있다. 이름이 우연히 같다고 하더라도 2명은 다른 인물이므로 데이터베이스에서도 이 2명을 '다른 사람'이라는 것을 알도록 관리해야 한다. 이 원칙을 '고유성(Uniqueness)'라고 하는데, 데이터베이스에서 데이터를 관리할 때의 기초적인 규칙의 하나이다.


#### 처리 성능에 유의한다
검색이나 갱신에서 중요한 문제로 성능이 있다. 쉽게 말해 '어느 정도의 빠르기로 처리 가능한가'란 것이다.


방대한 데이터를 읽어 들이고, 검색요건에 해당하는 데이터만을 추리는 작업은 최신의 고성능 머신으로 한다 해도 시간이 오래 걸린다. 따라서 검색 성능을 어떻게 향상할 것인가 하는 주제는 다루는 데이터양이 증가하고 있음을 생각해 본다면 데이터베이스에서 영원한 숙제 중 하나이다.


&nbsp;
### 데이터베이스의 기본 기능 2. 동시성 제어
데이터 베이스의 중요한 두 번째 기본 기능은 '동시성 제어'이다.


비즈니스나 공공목적으로 이용되는 데이터베이스에는 불특정다수의 사용자가 동시에 접근하는 것이 보통이다. 즉, 데이터베이스는 동시에 복수의 사용자로부터 검색이나 갱신 처리를 받는다. 이때 문제 되는 것이 '갱신의 무결성을 어느 정도로 보장하는가?' 하는 점이다.


단순한 예로 데이터베이스의 사용자가 2명인 경우, PC 주소록 파일을 아버지와 아들이 공유한다고 해보자. 아버지가 파일을 열어 '박xx' 씨의 주소를 변경할 때 아들도 동시에 파일을 열어서 '박xx' 씨의 주소를 갱신하려고 한다면 어떻게 될까? 이 경우 파일을 열고 있는 애플리케이션에 따라 다르겠지만, 동작은 대략 다음 중 하나가 된다.


1. 최초로 파일을 연 사람이 파일을 열고 있을 때 그다음으로 파일을 열려고 한 사람은 파일을 열 수 없다.
2. 최초로 파일을 연 사람이 파일을 열고 있을 때 그다음으로 파일을 열려고 한 사람에게는 파일이 '읽기 전용(Read Only)'으로밖에 열리지 않는다.
3. 어떤 사람도 문제없이 파일을 여는 것이 가능하고 나중에 수행된 쪽의 갱신이 반영된다.


#### 괴로운 트레이드오프의 관계
위 예에서 아들은 1일 때 주소록에 대해 아무것도 할 수 없지만, 3일 때 아버지가 주소록을 갱신하고 있다는 것조차 의식하지 않고 주소록을 갱신할 수 있다. 이런 관점에서 자유도가 높은 3이 아들 측에서 볼 때 가장 바람직한 상황이다. 하지만 아버지가 볼 때는 자신이 갱신하는 상황에 타인이 마음대로 갱신하려는 3은 위험하고 의도하지 않은 상황이다. 따라서 아버지 측에서 바람직한 상황은 누구에게도 갱신을 방해받지 않는 1이된다.


데이터베이스를 복수의 사용자가 동시에 공유하고 이용하려고 한다면 같은 데이터를 갱신하는 상황에대한 제어가 필요하다. 앞에서처럼 어느 사용자에게 괜찮은 갱신 제어가 다른 사용자에게는 불편한 상황을 '트레이드오프 관계'라고 한다. 이렇게 복수 사용자의 갱신을 조절하기 위한 기능을 데이터베이스의 중요한 두 번째 기본 기능인 '동시성 제어' 또는 '배타 제어'라고 한다. 실제 데이터베이스에서는 전체의 균형을 생각하면서 1과 2를 기준으로 한 동시성 제어가 수행되는 경우가 많다.


> 더티 쓰기(Dirty Write)란
>
> '3. 어떤 사람도 문제 없이 파일을 여는 것이 가능하고 나중에 수행된 쪽의 갱신이 반영되는' 경우를 '더티 쓰기'라고 한다. 데이터베이스에서 이런 식의 제어는 일반적으로 데이터 무결성 관점에서 기피하는 경향이 있다.


&nbsp;
### 데이터베이스의 기본 기능 3. 장애 대응
데이터베이스에 요구되는 세 번째 중요한 기능은 '장애에 강할 것'이다. 쉽게 말해 '좀처럼 부서지기 어렵고 부서졌다 하더라도 복원할 수 있다'라는 것이다.


데이터베이스는 중요한 정보를 모으는 시스템의 '심장'이다. 여기에 들어 있는 데이터가 장애로 사라져 버리게 된다면 소프트웨어 버그가 아니더라도 시스템을 정지하지 않을 수 없다.


그러므로 데이터 보호와 장애 대책에 이보다 더할 수 없을 정도로 예민해질 필요가 있다.


#### 데이터 소실 문제의 대책
데이터 소실 사건은 모두 데이터베이스에 보존된 데이터가 어떤 원인으로 소실되고 또한 복원도 되지 않는 경우에 발생한다.


이를 예방하려면 데이터베이스의 설계와 구축에서 제대로 된 대책을 취하는 것이 중요하다. 데이터 소실 문제에 대한 대책으로는 다음 2가지 방침을 생각할 수 있다:
1. **데이터 다중화** 데이터를 한 곳이 아니라 복수의 장소에 분산해서 유지하는 것으로, 데이터가 완전하게 소실되는 것을 막는 방법, 즉 '예방책'이다.
2. **백업** 데이터 소실이 발생했을 때 데이터를 복원하는 방법을 '사후대책'이라고 할 수 있다.


#### 왜 데이터 소실 사건이 끊이지 않는가
데이터베이스의 장애 대책이 중요하다는 것은 전문 엔지니어라면 모르는 사람이 없다. 누구나 충분히 대책을 세워야 한다는 데는 의견이 일치한다. 그런데도 데이터 소실 사건은 끊이지 않는다. 그건 왜일까?


그 이유는 엔지니어가 항상 '서비스 레벨'과 '비용'이란 트레이드오프의 딜레마로 고민하기 때문이다. 즉, 알고는 있지만 돈이 없느 상황이다.


&nbsp;
### 데이터베이스의 기본 기능 4. 보안
데이터베이스에 요구되는 기본 기능의 마지막은 '보안'이다. 즉, 데이터베이스에 보존된 데이터를 어떻게 숨길 것인가이다.


데이터베이스는 사용자로부터 간으한 보이지 않게 설계되고 있다. 여기에는 크게 2가지 이유가 있다.


#### 이유 1. 사용자는 서버를 의식할 필요가 없다.
사용자에게 가까운 기술이란 대다수가 클라이언트 기술 중심이라 서버의 기술은 그다지 의식되지 않기 때문이다.
* 클라이언트는 사용자가 직접 사용하는 단말기로 PC, 태블릿, 스마트폰, 웹 브라우저 등
* 서버는 클라이언트로부터 요구를 받아들여 다양한 처리를 수행하는 시스템, 사용자에게서 물리적으로 떨어진 장소에 설치


사용자로서 시스템을 사용하면 직접 조작하는 것은 어디까지나 클라이언트(와 그 위에서 동작하는 프로그램)뿐이고, 서버에 배치된 데이터베이스 등의 소프트웨어를 직접 조작하는 일은 없다.


이 때문에 사용자가 서버의 구조까지 의식할 일은 없다.


#### 이유 2. 데이터베이스는 기밀성이 높다
시스템을 구축하는 측에서는 '데이터베이스는 절대 사용자에게 알려지지 않아야 한다'라는 강한 의지로 시스템을 구축한다. 이것이 사용자 측면에서 봤을 때 데이터베이스가 가까이에 없는 한 가지 이유이다.


시스템 구축 시 데이터베이스의 보안에 예민해지는 이유는 단순하다. 데이터베이스에 들어 있는 데이터는 기밀성이 지극히 높아서 일반에 공개할 수 없는 내용이 상당수 포함되어 있기 때문이다.


예를 들면, 계좌번호와 주소, 신용카드 번호와 비밀번호 등 이런 기밀정보가 포함된 데이터베이스에 사용자가 자유롭게 접근할 수 있다면 정보 유출의 위험은 매우 커지게 된다.


기밀 데이터의 보고인 데이터베이스에 대한 보안은 날이 갈수록 어려워지는 추세이다. 그래서 개발자는 '되도록 사용자가 데이터베이스에 접근할 수 없도록' 이용 제한을 걸고 싶은 유혹에 마음이 당연히 간다. 솔직히 '사용자가 데이터베이스의 존재조차 의식하지 않는 게 좋다'는 게 개발자의 심정이다.


그렇지만 이런 보안의 강도는 편리함이나 간편함 같은 사용자 편의성과 트레이드오프 관계가 있어서 그 균형을 잡는 설계에서 매우 어려운 지점이 된다.


&nbsp;
## 데이터베이스의 종류
데이터베이스는 전통적으로 데이터를 보존하는 형식에 따라 5가지로 구분되며 각각 다음과 같은 특징이 있다.


&nbsp;
### 계층형 데이터베이스
데이터를 계층 구조로 관리하는 데이터베이스(조직도나 전체 구조도). 이 타입의 데이터베이스는 현대적인 데이터베이스 역사상 최초로 등록된 것이다.


&nbsp;
### 관계형 데이터베이스
2차원 표 형식으로 데이터를 관리하는 데이터베이스로, 현개 가장 주류를 이루고 있다.


&nbsp;
### 객체지향 데이터베이스와 XML 데이터베이스
각각 '객체'와 'XML'이라는 형식으로 데이터를 관리하는 데이터베이스이다. 관계형 데이터베이스를 대체하기를 기대했지만 현재 틈새시장에서 기반을 쌓고 있는 정도.


&nbsp;
### NoSQL 데이터베이스
최근 관계형 데이터베이스 이외의 데이터베이스로 주목을 받아온 것이 NoSQL 데이터베이스이다. 'NoSQL'이란 'Not only SQL'의 줄임말로써 SQL뿐만 아니라 다른 것이 더 있다는 의미인데, 여기서 'SQL'이란 관계형 데이터베이스를 만들기 위한 언어를 의미한다.


이 타입의 데이터베이스는 관계형 데이터베이스에 있는 기능 일부를 버려서 성능(처리 속도)을 높이고 있다. 대량의 데이터를 고속으로 처리해야 하는 웹 서비스와 잘 맞아 최근 자주 이용되고 있다.


&nbsp;
&nbsp;      
### [by. 0junChoi](https://github.com/0jun0815) email: <0jun0815@gmail.com>
### 출처: [데이터베이스 첫걸음](http://book.naver.com/bookdb/book_detail.nhn?bid=11154846)

