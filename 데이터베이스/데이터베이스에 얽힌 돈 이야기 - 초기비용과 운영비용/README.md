# 데이터베이스에 얽힌 돈 이야기 - 초기비용과 운영비용


* [데이터베이스의 초기비용](#데이터베이스의-초기비용)
    * [시스템의 전체비용 내역](#시스템의-전체비용-내역)
    * [라이선스 요금과 가격의 차이](#라이선스-요금과-가격의-차이)
    * [프로세서 라이선스와 사용자 라이선스](#프로세서-라이선스와-사용자-라이선스)
    * [규모가 커질수록 요금도 올라간다](#규모가-커질수록-요금도-올라간다)
* [초기비용을 늘리는 범인](#초기비용을-늘리는-범인)
    * [에디션과 옵션](#에디션과-옵션)
    * [에디션별 차이점](#에디션별-차이점)
* [데이터베이스의 운영비용](#데이터베이스의-운영비용)
    * [운영비용의 필요성](#운영비용의-필요성)
    * [데이터베이스의 운영비용](#데이터베이스의-운영비용-1)
    * [기술지원 없는 소프트웨어는 위험](#기술지원-없는-소프트웨어는-위험)
    * [기술지원 수준은 매년 내려간다](#기술지원-수준은-매년-내려간다)
    * [새로운 제품에는 혜택이 있을까?](#새로운-제품에는-혜택이-있을까?)
* [초기비용과 운영비용의 조합](#초기비용과-운영비용의-조합)
    * [3가지 조합 가능](#3가지-조합-가능)
    * [오픈소스를 이용한다](#오픈소스를-이용한다)
    * [임대 모델의 장점](#임대-모델의-장점)
    * [구매 모델의 장점](#구매-모델의-장점)



&nbsp;
## 데이터베이스의 초기비용
### 시스템의 전체비용 내역
시스템을 구축하고 운영한다는 활동은 전체적으로 볼 때 어느 정도의 비용이 들까? 시스템 전체를 볼 경우 중요하게 여겨지는 분류가 '초기비용'과 '운영비용'이다.


초기비용과 운영비용을 정의하면 다음과 같다:
* **초기비용**: 최초에 지급하는 돈
* **운영비용**: 서비스를 이용하는 기간에 계속해서 지급하는 돈


![연간 초기비용과 운영비용](https://github.com/0jun0815/YJStudy/blob/master/데이터베이스/데이터베이스에%20얽힌%20돈%20이야기%20-%20초기비용과%20운영비용/images/연간%20초기비용과%20운영비용.jpg)


시스템 개발에서 초기비용으로써 대표적인 것은 서버나 네트워크 기기와 같은 하드웨어 구매비용이나 프로그램 개발을 위해 엔지니어나 프로그래머에 지급하는 급여를 들 수 있다. 운영비용은 시스템 가동 후 장애 대응이나 프로그램 수정과 같은 유지보수 비용이 포함된다.


일반적으로 운영비용의 단위 금액은 초기비용에 견주어 낮게 설정된다. 하지만 운영 비용을 합한 금액을 보면 초기비용을 초과하는 경우도 드물지 않다.


DBMS를 도입할 때의 초기비용은 어느 정도 필요할까? 데이터베이스를 도입할 때의 초기비용은 한마디로 소프트웨어의 라이선스 요금이다.


이 라이선스료를 지급해서 소프트웨어의 사용허가를 받는 것은 DBMS뿐만 아니라 모든 유료 소프트웨어 제품에 통용되고 있다.


&nbsp;
### 라이선스 요금과 가격의 차이
일반적으로 물건을 살 때의 '가격'과 소프트웨어 라이선스료는 다음 2가지 점에서 큰 차이가 있다.
1. 판매단위가 특수하다.
2. 운영비용을 지급하지 않으면 현실적으로 사용할 수 없다.


&nbsp;
### 프로세서 라이선스와 사용자 라이선스
DBMS를 포함한 소프트웨어 제품에는 실체를 확인할 수 있는 물리적 단위가 없어서 '0개'와 같은 셈을 할 수 없다. 또한, 간단히 복제할 수 있어서 낮은 비용으로 구매하여 얼마든지 복제본을 늘릴 수 있다. 그래서 라이선스료는 물리적인 단위가 아니라 논리적인 단위로 판매되고 있다.


대표적인 판매 단위로는 다음 2가지가 있다:
1. **프로세스 라이선스**(Processor License): 쉽게 말하자면 DBMS를 설치해서 동작하는 하드웨어(DB 서버)의 CPU 성능에 따라 가격이 결정되는 라이선스 체계이다.
2. **사용자 라이선스**(User License): DBMS를 이용하는 사용자 수에 따라 가격이 결정되는 라이선스 체계이다.


![프로세스 라이선스와 사용자 라이선스 비교](https://github.com/0jun0815/YJStudy/blob/master/데이터베이스/데이터베이스에%20얽힌%20돈%20이야기%20-%20초기비용과%20운영비용/images/프로세스%20라이선스와%20사용자%20라이선스%20비교.jpg)


> NOTE. 프로세서 라이선스로 불리는 이유
>
> 'CPU 라이선스'가 아닌 '프로세서 라이선스'라고 불리는 이유는 요즘은 1개의 CPU에 복수의 프로세서 코어가 있는 '멀티 코어 CPU'를 탑재한 서버 머신이 주류기 때문이다. 즉, 같은 'CPU 1개'라고 해도 기본적으로 코어가 많은 쪽이 성능이 좋으므로 DBMS의 과금 단위도 CPU가 아닌 프로세서 코어 수를 기반으로 한 것이 정확하기 때문이다.


&nbsp;
### 규모가 커질수록 요금도 올라간다
프로세서 라이선스와 사용자 라이선스는 둘 다 DBMS가 동작하는 시스템의 규모가 커질수록 라이선스료도 올라간다는 특징이 있다.


프로세서 성능이나 사용자 수라는 건 시스템의 규모를 측정하기 위한 척도인 셈이다. 시스템의 규모가 커질수록 데이터베이스 서버의 프로세서 수는 증가하고, 이용하는 사용자 수도 많아지게 된다. 이런 이유에서 많은 DBMS가 프로세서 성능과 사용자 수를 기준으로 라이선스를 결정하고 있다.


실제로 어느 정도 규모를 가진 상용 시스템에서는 사용자 수를 파악하기가 어려워서 프로세서 라이선스를 사용하는 경우가 대부분이다. 사용자 라이선스를 적용하기 쉬운 곳은 개발환경이나 시험환경같이 폐쇄된 네트워크에 설치되어 있거나 사용자 수를 파악할 수 있는 소규모 환경에 한정된다.


**프로세서 라이선스** | **사용자 라이선스**
----- | -----
서버의 프로세서 수에 비례하는 라이선스로, 사용자 수가 많거나 불특정 다수가 이용해서 사용자 수를 셀 수 없는 경우에 적용한다. | 사용자 수(사람 등)에 비례하는 라이선스로, 일반적으로 사용자 수가 적은 경우에 유리하다.


PostgreSQL이나 MySQL 같은 오픈소스 DBMS는 라이선스료 자체가 무료인 경우가 있다. 이것은 이 2가지 오픈소스 제품이 사용자에게 폭넓은 권한을 부여하는 라이선스 체계를 채택하고 있기 때문이다.


&nbsp;
## 초기비용을 늘리는 범인
### 에디션과 옵션
초기비용 계산에는 좀 더 복잡한 요소가 관련되어 있는데, 그 요소로는 '에디션'과 '옵션'의 선택이 있다. 이 부분은 초기비용을 좌우하는 매우 중요한 부분이다.


대부분의 DBMS 제품은 다음 2가지의 에디션을 사용한다:
* 스탠다드 에디션(SE, Standard Edition)
* 엔터프라이즈 에디션(EE, Enterprise Edition)


스탠다드 에디션은 중소규모 시스템용, 엔터프라이즈 에디션은 대규모 시스템용으로 구분되고 있다.


&nbsp;
### 에디션별 차이점
엔터프라이즈 에디션에는 스탠다드 에디션에는 없는 편리한 기능이 있어서 그만큼 가격이 높게 설정되어 있다. 엔터프라이즈 에디션에만 탑재되는 주요한 기능은 다음과 같다(실제 제공하는 기능은 제품에 따라 차이가 있다).
* 신뢰성(가용성)
    * 클러스터 구성
    * 리플리케이션(Replication)
* 성능
    * 일정 수량 이상의 프로세서 기술지원(서포트)
    * 테이블 파티셔닝
    * 성능 리포트 출력
    * 데이터 압축
* 보안
    * 데이터 암호화
    * 감사로그 기록
    
    
PostgreSQL이나 MySQL 같은 오픈소스 데이터베이스와 비교해 보면 Oracle, SQL Server, DB2 같은 벤더에 의해 개발된 데이터베이스 제품 쪽이 이런 편리한 기능에 대한 고급 기능을 가지고 있다.


> NOTE. 익스프레스 에디션이란?
>
> 수많은 데이터베이스 벤더는 익스프레스 에디션(Express Edition)을 추가로 제공한다. 익스프레스 에디션의 특징은 다음 2가지이다:
>
> 1. 벤더가 제시하는 이용 요건을 지키는 한 라이선스는 무료다.
>
> 2. 기능 일부에 제한을 두어 사용할 수 없다.
>
> 익스프레스 에디션은 '시험판'을 의미한다. 시험이나 테스트용일 때는 무료로 사용할 수 있지만, 상용으로는 사용할 수 없도록 기능적인 제한을 걸어둔 것이 많다. 익스프레스 에디션은 평범한 기능확인이나 동작 확인용 환경 구성과 같이 한정된 영역에서 주로 사용한다.


&nbsp;
## 데이터베이스의 운영비용
### 운영비용의 필요성
라이선스료만 지급한다고 해서 DBMS를 이용할 수 있는 것은 아니다. 사용 시스템에서는 초기비용 못지않게 운영비용이 발생한다.


운영비용은 기간이 정해진 비용으로, '월 단위 또는 연 단위 얼마'처럼 반드시 '일정 기간에 00원'이라는 비용 계산을 한다. 이는 데이터베이스의 이용 기간이 길면 길수록 비용도 증가한다는 의미이다. 이것이 처음 일정액을 내면 그 이상으로 지급할 필요가 없는 초기비용과의 큰 차이점이다.


&nbsp;
### 데이터베이스의 운영비용
그럼 데이터베이스에서 운영비용은 어떤 걸까? 그건 바로 '기술지원 비용'이다.


기술 지원 서비스에는 일반적으로 다음 항목이 포함된다:
* 기술 Q&A
* 버그 수정을 위한 프로그램(배치) 배포
* 최신 버전으로의 업데이트 권리
* 새로운 OS나 하드웨어의 대응
* 전문 기술자나 컨설턴트를 통한 문제 해결
* 노하우나 버그 정보 같은 기술 데이터베이스로의 접근 권리


이런 기술지원이 필요한 소프트웨어는 데이터베이스뿐만이 아니다. 대부분 상용 OS나 미들웨어를 기술지원 없이 사용하는 경우는 없다. 가장 큰 이유는 OS나 미들웨어가 매우 복잡한 로직을 쌓아 올려 구현된 소프트웨어라서 버그와 무관할 수 없기 때문이다.


&nbsp;
### 기술지원 없는 소프트웨어는 위험
기술지원 없는 소프트웨어로 상용 시스템을 만들어 운용하는 것은 '생명줄 없이 등산하는 것'과 같다. 기술지원이 없으면 사고가 일어났을 때는 자력으로 해결해야 하고, 그건 그것대로 비용이 들며 해결할 수 있다는 보장도 없다. 더 중요한 점은 이 경우 장애의 책임을 자신의 조직이 져야 한다는 것이다. 사실 유상으로 기술지원 서비스를 받는 이유의 하나는 이와 같은 '책임의 분산'이라는, 기술적인 이유보다는 보험으로써의 의미도 있다.


> NOTE. 버그는 자력으로 해결할 수 없나?
>
> 오픈소스 소프트웨어는 소스 코드가 공개되어 있어서 코딩에 사용된 언어를 읽을 수 있는 프로그래머라면 직접 소스 코드를 읽어 버그의 원인과 수정 방법을 찾아낼 수 있다. 특정 벤더에서 개발한 소프트웨어는 소스 코드가 공개되어 있지 않은 경우가 많아서(이러한 제품을 'proprietary'라고 한다) 이용자가 버그의 원인을 찾는 것조차 원칙적으로 불가능하다.


&nbsp;
### 기술지원 수준은 매년 내려간다
기술지원 서비스를 이용할 때 서비스의 수준(서비스 레벨)은 제품 구매 시점이 아닌 제품의 배포 시점을 기준으로 해서 시간이 경과함에 따라 낮아져서 최후에는 기술지원 종료를 맞게 된다.


![소프트웨어도 수명이 있다](https://github.com/0jun0815/YJStudy/blob/master/데이터베이스/데이터베이스에%20얽힌%20돈%20이야기%20-%20초기비용과%20운영비용/images/소프트웨어도%20수명이%20있다.jpg)


제품이 배포되고 한동안은 제품을 널리 보급하려는 벤더의 전략과 신속한 패치나 새로운 환경의 대응 등을 위해 다양한 기술지원을 제공한다. 이런 서비스 레벨은 점차 낮아져서 최후에는 신규 버그에 대한 패치를 제공하지 않음으로써 기술지원을 종료한다.


이 서포트가 종료하는 타이밍을 'EOSL(End of Service Life)'라고 한다. EOSL은 시스템 개발의 초기단계에서 어떤 소프트웨어를 채택할지 검토할때 자주 나오는 단어이다.


&nbsp;
### 새로운 제품에는 혜택이 있을까?
최신 버전을 사용하면 좋을까? 아직 사용자가 적은 최신 버전은 안정성이나 신뢰성에 결함이 있는 경우가 많다. '11.0.0.0'처럼 마이너 버전을 표시하는 숫자를 '000'까지 갖춘 최신 버전의 소프트웨어는 아무리 상용제품이라 하더라도 동작이 안정화되지 않은 경우가 있다.


**구분** | **신버전** | **구버전**
----- | ----- | -----
장점 | 기술지원 기간이 길다.<br>구버전과 비교해서 상위 기능이 많다. | 동작이 안정되어 있다.<br>정보가 많고 엔지니어도 사용법에 익숙하다.
단점 | 버그가 많아서 동작이 불안하다. | 기술지원 기간이 짧다.<br>신버전과 비교하면 기능이 적다.


> NOTE. 라이선스와 서브스크립션
>
> 라이선스와 서브스크립션의 가장 큰 차이는 '사용허가 기한의 유뮤'이다. 라이선스는 돈을 지급하면 기본적으로 무기한 사용할 수 있다. 즉, 라이선스가 유효하면 기한 제한 없이 사용할 수 있다. 기술지원이 종료되면 지원을 받지 못하는 상태가 되고, 그 이후 고객의 책임이 되어 알아서 해야 한다.
>
> 서브스크립션은 기한을 정한 사용허가를 의미한다. 예를 들어, '돈을 내면 오늘부터 1년간 사용'이라는 조건에 따른 사용허가가 서브스크립션이다. 서브스크립션 계약 중에는 소프트웨어의 사용권뿐만이 아니라 버그 수정이나 업데이트 제공, 컨설팅 지원 등의 보수 서비스도 포함되어 있다. 이는 모든 비용이 운영비용에 포함되어 있어서 초기비용이 없는 패턴이라고 생각할 수 있다.


&nbsp;
## 초기비용과 운영비용의 조합
### 3가지 조합 가능
데이터베이스의 초기비용과 운영비용을 라이선스료와 기술지원 비용으로 정의했다. 이 '초기비용 + 운용비용'이라는 모델은 논리적으로 다음 3가지 조합을 생각할 수 있다:
* 초기비용 있음 + 운영비용 있음
* 초기비용 있음 + 운영비용 없음
* 초기비용 벗음 + 운영비용 있음


일절 비용이 들지 않는 '초기비용 없음 + 운영비용 없음'조합은 오나전 무료인 소프트웨어라서 상용 시스템에 사용하는 수준의 품질을 요구하는 데이터베이스에서는 현실적으로 존재하지 않는다.


'초기비용 있음 + 운영비용 있음'의 조합은 Oracle이나 SQL Server 등 일반 벤더 제품의 데이터베이스를 사용하는 경우로, 상용 시스템용에서 가장 일반적이다.


'초기비용 있음 + 운영비용 없음'의 조합은 유지보수 계약을 맺지 않아 기술지원이 없는 것을 의미하므로 현실적인 선택지라고 할 수는 없다.


'초기비용 없음 + 운영비용 있음'은 라이선스료를 지급하지 않고 기술지원 비용만 발생한다.


&nbsp;
### 오픈소스를 이용한다
'초기비용 없음 + 운영비용 있음'에 해당하는 대표적인 예는 오픈소스 소프트웨어(OSS, Open Source Software)를 이용하는 것이다.


OSS를 기반으로 한 데이터베이스 제품에는 라이선스료는 무료로 하고 '기술지원료'만을 유상으로 하거나 기한이 정해진 소프트웨어 사용권과 기술지원을 받을 수 있는 권리를 묶어서 판매하는 서브스크립션 형식을 따르는 것도 있다(Linux의 Red Hat, MySQL).


&nbsp;
### 임대 모델의 장점
서브스크립션은 임대 모델이다. 임대 모델의 장점으로는 '처음에 일정 금액을 가지지 않아도 이용할 수 있다'는 점이다. 최근에는 데이터베이스도 AWS(Amazon Web Services)등의 클라우드 서비스에서 제공되어 시험 삼아 사용해 보고 싶은 라이트 사용자에게 선택 폭이 넓어지고 있다.


임대는 시작도 간단하고 그만두는 것도 간단하다. 계약을 갱신하지 않으면 더는 비용을 지급하지 않아도 되고, 다른 데이터베이스로 갈아타는 비용도 적게 든다. 대체로 이런 의사결정 비용이 낮다는 것이 임대 모델의 장점이다.


> NOTE. PaaS
>
> 미들웨어까지 포함한 클라우드 서비스의 임대 모델을 'PaaS(Platform as a Service)'라고 한다. 예를 들면, Amazon사가 제공하는 클라우드 서비스인 AWS에서는 클라우드에 준비된 Oracle이나 MySQL을 이용할 수 있는 서비스가 제공된다.


&nbsp;
### 구매 모델의 장점
한편 구매의 장점은 임대 모델의 단점이다. 데이터베이스에서 OSS인 DBMS와 비교하면 벤더가 개발하는 DBMS쪽이 일반적으로는 고기능이 많다. 소프트웨어는 한 번 사면 반영구적으로 계속해서 사용할 수 있다. 구매해서 상용 서비스에 사용하면 기술지원 중단의 가능성이 걱정되지만 사내 개발환경이나 시험 환경으로 쓰기에는 충분하기도 하다. 임대의 경우 이런 장기적 관점에서 자원 활용을 생각할 수는 없다.


**구분** | **임대** | **구매**
----- | ----- | -----
장점 | 정해진 초기비용 없이 도입 가능<br>시범 도입 가능<br>불필요할 때 바로 사용 중단 가능<br>타 데이터베이스로 마이그레이션이 쉬움 | 반영구적으로 이용 가능<br>전체비용의 변동 위험이 적고 장기적인 계획을 세울 수 있음
단점 | 이용 기간이 길면 전체비용이 구매 비용보다 높아질 가능성이 있음<br>서비스를 제공하는 벤더의 도산이나 사업 철수로 서비스를 정지하면 이용할 수 없게 될 위험이 있음<br>장기적으로 요금인상 등의 비용 변경 요소가 있음 | 초기비용이 필요<br>시범 도입 불가능<br>타 데이터베이스로 마이그레이션이 어려움


&nbsp;
&nbsp;      
### [by. 0junChoi](https://github.com/0jun0815) email: <0jun0815@gmail.com>
### 출처: [데이터베이스 첫걸음](http://book.naver.com/bookdb/book_detail.nhn?bid=11154846)

